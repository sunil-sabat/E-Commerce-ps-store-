(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{147:function(e,t,r){"use strict";r.r(t);var n=r(36),c=r(6),s=r(17),a=r(72),o=r(10),i=r(12),l=r(7),d=r(1),j=r(32),u=r(83),b=r(73),p=r(57),h=r(14),O=r(8),x=r.n(O),f=r(15),g=r(16),m=r.n(g),y="USER_LOGIN_REQUEST",v="USER_LOGIN_SUCCESS",S="USER_LOGIN_FAIL",E="USER_LOGOUT",C="USER_REGISTER_REQUEST",w="USER_REGISTER_SUCCESS",I="USER_REGISTER_FAIL",_="USER_DETAILS_REQUEST",R="USER_DETAILS_SUCCESS",A="USER_DETAILS_FAIL",T="USER_DETAILS_RESET",D="USER_UPDATE_PROFILE_REQUEST",P="USER_UPDATE_PROFILE_SUCCESS",L="USER_UPDATE_PROFILE_FAIL",U="USER_UPDATE_PROFILE_RESET",k="USER_LIST_REQUEST",z="USER_LIST_SUCCESS",W="USER_LIST_FAIL",F="USER_LIST_RESET",B="USER_DELETE_REQUEST",M="USER_DELETE_SUCCESS",q="USER_DELETE_FAIL",N="USER_UPDATE_REQUEST",Q="USER_UPDATE_SUCCESS",G="USER_UPDATE_FAIL",V="USER_UPDATE_RESET",Y="ORDER_CREATE_REQUEST",J="ORDER_CREATE_SUCCESS",H="ORDER_CREATE_FAIL",X="ORDER_DETAILS_REQUEST",K="ORDER_DETAILS_SUCCESS",Z="ORDER_DETAILS_FAIL",$="ORDER_PAY_REQUEST",ee="ORDER_PAY_SUCCESS",te="ORDER_PAY_FAIL",re="ORDER_PAY_RESET",ne="ORDER_MY_LIST_REQUEST",ce="ORDER_MY_LIST_SUCCESS",se="ORDER_MY_LIST_FAIL",ae="ORDER_MY_LIST_RESET",oe="ORDER_LIST_REQUEST",ie="ORDER_LIST_SUCCESS",le="ORDER_LIST_FAIL",de="ORDER_DELIVER_REQUEST",je="ORDER_DELIVER_SUCCESS",ue="ORDER_DELIVER_RESET",be=function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:_}),c=n(),s=c.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.get("/api/users/".concat(e),a);case 6:o=t.sent,i=o.data,r({type:R,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:A,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},pe=r(2),he=function(e){var t=e.children,r=e.url;return Object(pe.jsx)(a.g,{as:o.b,to:r,mt:{base:4,md:0},fontSize:"sm",letterSpacing:"wide",color:"whiteAlpha.800",textTransform:"uppercase",mr:"5",display:"block",_hover:{color:"whiteAlpha.800"},children:t})},Oe=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(d.useState)(!1),n=Object(l.a)(r,2),s=n[0],O=n[1],g=Object(c.c)((function(e){return e.userLogin})).userInfo;return Object(pe.jsxs)(a.c,{as:"header",align:"center",justify:"space-between",wrap:"wrap",py:"6",px:"6",bgColor:"green.900",w:"100%",top:"0",zIndex:"2",pos:"fixed",children:[Object(pe.jsx)(a.c,{align:"center",mr:"5",children:Object(pe.jsx)(a.f,{as:"h1",color:"whiteAlpha.800",fontWeight:"bold",size:"md",letterSpacing:"md",children:Object(pe.jsx)(a.g,{as:o.b,to:"/",_hover:{color:"orange.400",textDecor:"none"},children:"PS-Store"})})}),Object(pe.jsxs)(a.a,{display:{base:"block",md:"none",sm:"block"},onClick:function(){return O(!s)},children:[Object(pe.jsx)(j.a,{as:p.a,color:"white",w:"6",h:"6"}),Object(pe.jsx)("title",{children:"Menu"})]}),Object(pe.jsxs)(a.a,{display:{base:s?"block":"none",md:"flex"},width:{base:"full",md:"auto"},alignItems:"center",children:[Object(pe.jsx)(he,{url:"/cart",children:Object(pe.jsxs)(a.c,{alignItems:"center",children:[Object(pe.jsx)(j.a,{as:p.b,w:"4",h:"4",mr:"1"}),"Cart"]})}),g?Object(pe.jsxs)(u.a,{children:[Object(pe.jsx)(u.b,{as:b.a,rightIcon:Object(pe.jsx)(h.d,{}),_hover:{textDecoration:"none",opacity:"0.7"},children:g.name}),Object(pe.jsxs)(u.d,{url:"/login",children:[Object(pe.jsx)(u.c,{as:o.b,to:"/profile",children:"Profile"}),Object(pe.jsx)(u.c,{onClick:function(){e(function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:E}),t({type:T}),t({type:ae}),t({type:F});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t("/login")},children:"Logout"})]})]}):Object(pe.jsx)(he,{url:"/login",children:Object(pe.jsxs)(a.c,{alignItems:"center",children:[Object(pe.jsx)(j.a,{as:p.c,w:"4",h:"4",mr:"1"}),"Login"]})}),g&&g.isAdmin&&Object(pe.jsxs)(u.a,{children:[Object(pe.jsxs)(u.b,{ml:"5",color:"white",fontSize:"sm",fontWeight:"semibold",as:a.g,textTransform:"uppercase",_hover:{textDecoration:"none",opacity:"0.7"},children:["Manage ",Object(pe.jsx)(j.a,{as:h.d})]}),Object(pe.jsxs)(u.d,{children:[Object(pe.jsx)(u.c,{as:o.b,to:"/admin/userlist",children:"All Users"}),Object(pe.jsx)(u.c,{as:o.b,to:"/admin/productlist",children:"All Products"}),Object(pe.jsx)(u.c,{as:o.b,to:"/admin/orderlist",children:"All Orders"})]})]})]})]})},xe=function(){return Object(pe.jsx)(a.c,{as:"footer",justifyContent:"center",py:"6",children:Object(pe.jsx)(a.i,{children:"@Copyright 2021. P-store all rights are reserved."})})},fe=r(49),ge=r(74),me=function(e){var t=e.value,r=e.text,n=e.color,c=void 0===n?"orange.800":n;return Object(pe.jsxs)(a.c,{alignItems:"flex-start",children:[Object(pe.jsxs)(a.a,{mr:"2",children:[Object(pe.jsx)(j.a,{color:c,as:t>=1?h.g:t>=.5?h.h:h.i}),Object(pe.jsx)(j.a,{color:c,as:t>=2?h.g:t>=1.5?h.h:h.i}),Object(pe.jsx)(j.a,{color:c,as:t>=3?h.g:t>=2.5?h.h:h.i}),Object(pe.jsx)(j.a,{color:c,as:t>=4?h.g:t>=3.5?h.h:h.i}),Object(pe.jsx)(j.a,{color:c,as:t>=5?h.g:t>=4.5?h.h:h.i})]}),Object(pe.jsx)(a.i,{children:r})]})},ye=function(e){var t,r=e.product;return Object(pe.jsx)(a.g,{as:o.b,to:"/product/".concat(r._id),_hover:{textDecor:"none"},children:Object(pe.jsxs)(a.a,{maxW:"sm",borderRadius:"lg",overflow:"hidden",bgColor:"whiteAlpha.800",transition:"all",_hover:{shadow:"md"},children:[Object(pe.jsx)(ge.a,(t={src:r.image,alt:r.name,minH:"400px",objectFit:"cover",maxH:"400px"},Object(fe.a)(t,"objectFit","cover"),Object(fe.a)(t,"minW","100%"),t)),Object(pe.jsxs)(a.c,{py:"5",px:"4",direction:"column",justifyContent:"space-between",children:[Object(pe.jsx)(a.f,{as:"h4",fontSize:"lg",mb:"3",children:r.name}),Object(pe.jsxs)(a.c,{alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(me,{value:r.rating,text:"".concat(r.numReviews," reviews")}),Object(pe.jsxs)(a.i,{fontSize:"2xl",fontWeight:"medium",color:"orange.900",children:["\u20b9",r.price]})]})]})]})})},ve="PRODUCT_LIST_REQUEST",Se="PRODUCT_LIST_SUCCESS",Ee="PRODUCT_LIST_FAIL",Ce="PRODUCT_DETAILS_REQUEST",we="PRODUCT_DETAILS_SUCCESS",Ie="PRODUCT_DETAILS_FAIL",_e="PRODUCT_DETAILS_RESET",Re="PRODUCT_DELETE_REQUEST",Ae="PRODUCT_DELETE_SUCCESS",Te="PRODUCT_DELETE_FAIL",De="PRODUCT_CREATE_REQUEST",Pe="PRODUCT_CREATE_SUCCESS",Le="PRODUCT_CREATE_FAIL",Ue="PRODUCT_CREATE_RESET",ke="PRODUCT_UPDATE_REQUEST",ze="PRODUCT_UPDATE_SUCCESS",We="PRODUCT_UPDATE_FAIL",Fe="PRODUCT_UPDATE_RESET",Be="PRODUCT_CREATE_REVIEW_REQUEST",Me="PRODUCT_CREATE_REVIEW_SUCCESS",qe="PRODUCT_CREATE_REVIEW_FAIL",Ne="PRODUCT_CREATE_REVIEW_RESET";function Qe(){return function(){var e=Object(f.a)(x.a.mark((function e(t){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ve}),e.next=4,m.a.get("/api/products");case 4:r=e.sent,n=r.data,t({type:Se,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ee,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}function Ge(e){return function(){var t=Object(f.a)(x.a.mark((function t(r){var n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ce}),t.next=4,m.a.get("/api/products/".concat(e));case 4:n=t.sent,c=n.data,r({type:we,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Ie,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}var Ve=r(75),Ye=function(e){var t=e.type,r=void 0===t?"info":t,n=e.children;return Object(pe.jsxs)(Ve.a,{status:r,children:[Object(pe.jsx)(Ve.b,{}),Object(pe.jsx)(Ve.c,{children:n})]})},Je=r(53),He=function(){return Object(pe.jsx)(a.c,{alignItems:"center",justifyContent:"center",children:Object(pe.jsx)(Je.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"gray.900",size:"xl",label:"Loading..."})})},Xe=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.productList})),r=t.loading,n=t.products,s=t.error;return Object(d.useEffect)((function(){e(Qe())}),[e]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(a.f,{as:"h2",fontSize:"3xl",mb:"8",color:"green.900",children:"Latest Products"}),r?Object(pe.jsx)(He,{}):s?Object(pe.jsx)(Ye,{type:"error",children:s}):Object(pe.jsx)(a.d,{templateColumns:{lg:"repeat(4, 1fr)",md:"1fr 1fr 1fr",sm:"1fr 1fr",base:"1fr"},gap:"8",children:n.map((function(e){return Object(pe.jsx)(ye,{product:e},e._id)}))})]})},Ke=r(44),Ze=r(76),$e=r(31),et=r(77),tt=function(){var e=Object(d.useState)(1),t=Object(l.a)(e,2),r=t[0],n=t[1],s=Object(d.useState)(0),j=Object(l.a)(s,2),u=j[0],p=j[1],h=Object(d.useState)(""),O=Object(l.a)(h,2),g=O[0],y=O[1],v=Object(c.b)(),S=Object(i.f)(),E=Object(i.g)().id,C=Object(c.c)((function(e){return e.productDetails})),w=C.loading,I=C.product,_=C.error,R=Object(c.c)((function(e){return e.userLogin})).userInfo,A=Object(c.c)((function(e){return e.productReviewCreate})),T=A.success,D=A.error;Object(d.useEffect)((function(){T&&(alert("Review submitted"),p(0),y(""),v({type:Ne})),v(Ge(E))}),[v,E,T]);return console.log(I),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(a.c,{mb:"5",children:Object(pe.jsx)(b.a,{as:o.b,to:"/",bgColor:"green.900",colorScheme:"white",children:"Go Back"})}),w?Object(pe.jsx)(He,{}):_?Object(pe.jsx)(Ye,{type:"error",children:_}):Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(a.d,{templateColumns:{lg:"5fr 4fr 3fr",md:"1fr 1fr 1fr",sm:"1fr 1fr ",base:"1fr "},gap:"10",children:[Object(pe.jsx)(ge.a,{src:I.image,alt:I.name,borderRadius:"md",mt:"4"}),Object(pe.jsxs)(a.c,{direction:"column",children:[Object(pe.jsx)(a.f,{as:"h6",fontSize:"base",color:"gray.500",children:I.brand}),Object(pe.jsx)(a.f,{as:"h2",fontSize:"4xl",mb:"2",children:I.name}),Object(pe.jsx)(me,{value:I.rating,text:"".concat(I.numReviews," reviews")}),Object(pe.jsxs)(a.f,{as:"h5",my:"5",fontSize:"4xl",fontWeight:"bold",color:"orange.900",children:["\u20b9",I.price]}),Object(pe.jsx)(a.i,{children:I.description})]}),Object(pe.jsxs)(a.c,{direction:"column",children:[Object(pe.jsxs)(a.c,{justifyContent:"space-between",py:"2",children:[Object(pe.jsx)(a.i,{children:"Price:"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",children:["\u20b9",I.price]})]}),Object(pe.jsxs)(a.c,{justifyContent:"space-between",py:"2",children:[Object(pe.jsx)(a.i,{children:"Status:"}),Object(pe.jsx)(a.i,{fontWeight:"bold",children:I.countInStock>0?"In Stock":"Not Available"})]}),Object(pe.jsx)(a.b,{}),I.countInStock>0&&Object(pe.jsxs)(a.c,{justifyContent:"space-between",py:"2",children:[Object(pe.jsx)(a.i,{children:"Qty:"}),Object(pe.jsx)(Ze.a,{value:r,onChange:function(e){return n(e.target.value)},width:"30%",children:Object(Ke.a)(Array(I.countInStock).keys()).map((function(e){return Object(pe.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(pe.jsx)(b.a,{textTransform:"uppercase",letterSpacing:"wide",colorScheme:"white",bgColor:"green.900",my:"2",_hover:{color:"orange.200"},disabled:0===I.countInStock,onClick:function(){S("/cart/".concat(E,"?qty=").concat(r))},children:"Add to Cart"})]})]}),Object(pe.jsx)(a.a,{mt:"10",children:Object(pe.jsxs)(a.a,{children:[Object(pe.jsx)(a.f,{as:"h2",size:"xl",mb:"4",children:"Reviews"}),0===I.reviews.length&&Object(pe.jsx)(Ye,{children:"No Reviews"}),Object(pe.jsx)(a.a,{p:"4",bgColor:"white",rounded:"md",mb:"1",children:I.reviews.map((function(e){return Object(pe.jsxs)(a.c,{direction:"column",mb:"5",children:[Object(pe.jsxs)(a.c,{justifyContent:"space-between",children:[Object(pe.jsxs)(a.i,{fontSize:"lg",children:[Object(pe.jsx)("strong",{children:e.name})," on ",console.log(e),console.log(e.createdAt),e.createdAt.substring(0,10)]}),Object(pe.jsx)(me,{value:e.rating})]}),Object(pe.jsx)(a.i,{mt:"2",children:e.comment})]},e._id)}))}),Object(pe.jsxs)(a.a,{p:"10",bgColor:"white",rounded:"md",mt:"10",border:"2px",borderColor:"gray.300",children:[Object(pe.jsx)(a.f,{as:"h3",size:"lg",mb:"6",children:"Write a review"}),D&&Object(pe.jsx)(Ye,{type:"error",children:D}),R?Object(pe.jsxs)("form",{onSubmit:function(e){var t,r;e.preventDefault(),v((t=E,r={rating:u,comment:g},function(){var e=Object(f.a)(x.a.mark((function e(n,c){var s,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:Be}),s=c(),a=s.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,m.a.post("/api/products/".concat(t,"/reviews"),r,o);case 6:n({type:Me}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:qe,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(pe.jsxs)($e.a,{id:"rating",mb:"3",children:[Object(pe.jsx)($e.b,{children:"Rating"}),Object(pe.jsxs)(Ze.a,{placeholder:"Select option",value:u,onChange:function(e){return p(e.target.value)},children:[Object(pe.jsx)("option",{children:"Select..."}),Object(pe.jsx)("option",{value:"1",children:"1 - Poor"}),Object(pe.jsx)("option",{value:"2",children:"2 - Okay"}),Object(pe.jsx)("option",{value:"3",children:"3 - Good"}),Object(pe.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(pe.jsx)("option",{value:"5",children:"5 - Execellent"})]})]}),Object(pe.jsxs)($e.a,{id:"comment",mb:"3",children:[Object(pe.jsx)($e.b,{children:"Comment"}),Object(pe.jsx)(et.a,{value:g,onChange:function(e){return y(e.target.value)}})]}),Object(pe.jsx)(b.a,{colorScheme:"white",bgColor:"green.900",type:"submit",children:"Post Review"})]}):Object(pe.jsxs)(Ye,{children:["Please"," ",Object(pe.jsx)(a.g,{as:o.b,to:"/login",children:"login"})," ","to write a review"]})]})]})})]})]})},rt=r(78),nt=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(c.c)((function(e){return e.productList})),n=r.loading,s=r.error,l=r.products,u=Object(c.c)((function(e){return e.userLogin})).userInfo,p=Object(c.c)((function(e){return e.productDelete})),O=p.loading,g=p.error,y=p.success,v=Object(c.c)((function(e){return e.productCreate})),S=v.loading,E=v.error,C=v.success,w=v.product;Object(d.useEffect)((function(){e({type:Ue}),u.isAdmin||t("/login"),C?t("/admin/product/".concat(w._id,"/edit")):e(Qe())}),[e,t,u,y,C,w]);var I=function(t){window.confirm("Are you sure ?")&&(e(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Re}),c=n(),s=c.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.delete("/api/products/".concat(e),a);case 6:r({type:Ae}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Te,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(t)),e({type:_e}))};return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(a.c,{mb:"5",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.f,{mb:"5",fontSize:"3xl",as:"h1",children:"product"}),Object(pe.jsxs)(b.a,{onClick:function(){e(function(){var e=Object(f.a)(x.a.mark((function e(t,r){var n,c,s,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:De}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,m.a.post("/api/products",{},s);case 6:a=e.sent,o=a.data,t({type:Pe,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Le,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},bgColor:"green.900",colorScheme:"teal",children:[Object(pe.jsx)(j.a,{as:h.a,fontSize:"xl",fontWeight:"bold",mr:"2"}),"create product"]})]}),O&&Object(pe.jsx)(He,{}),g&&Object(pe.jsx)(Ye,{type:"error",children:s}),S&&Object(pe.jsx)(He,{}),E&&Object(pe.jsx)(Ye,{type:"error",children:s}),n?Object(pe.jsx)(He,{}):s?Object(pe.jsx)(Ye,{type:"error",children:s}):Object(pe.jsx)(a.a,{w:"98%",overflowX:{md:"scroll",lg:"auto",sm:"scroll",base:"scroll"},bgColor:"white",rounded:"lg",shadow:"lg",px:"5",py:"5",children:Object(pe.jsxs)(rt.a,{variant:"striped",colorScheme:"green",size:"sm",children:[Object(pe.jsx)(rt.e,{children:Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.d,{children:"ID"}),Object(pe.jsx)(rt.d,{children:"NAME"}),Object(pe.jsx)(rt.d,{children:"PRICE"}),Object(pe.jsx)(rt.d,{children:"CATEGORY"}),Object(pe.jsx)(rt.d,{children:"BRAND"}),Object(pe.jsx)(rt.d,{})]})}),Object(pe.jsx)(rt.b,{children:l.map((function(e){return Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.c,{children:e._id}),Object(pe.jsx)(rt.c,{children:e.name}),Object(pe.jsx)(rt.c,{children:e.price}),Object(pe.jsx)(rt.c,{children:e.category}),Object(pe.jsx)(rt.c,{children:e.brand}),Object(pe.jsx)(rt.c,{children:Object(pe.jsxs)(a.c,{justifyContent:"flex-end",alignItems:"center",children:[Object(pe.jsx)(b.a,{mr:"4",as:o.b,to:"/admin/product/".concat(e._id,"/edit"),colorScheme:"orange",children:Object(pe.jsx)(j.a,{as:h.f,color:"white",size:"sm"})}),Object(pe.jsx)(b.a,{mr:"4",colorScheme:"red",onClick:function(){return I(e._id)},children:Object(pe.jsx)(j.a,{as:h.k,color:"white",size:"sm"})})]})})]},e._id)}))})]})})]})},ct=r(79),st=function(e){var t=e.children,r=e.width,n=void 0===r?"xl":r;return Object(pe.jsx)(a.c,{direction:"column",boxShadow:"md",rounded:"md",bgColor:"white",p:"10",width:n,children:t})},at=r(18),ot=function(){var e=Object(i.f)(),t=Object(c.b)(),r=Object(i.g)().id,n=Object(d.useState)(""),s=Object(l.a)(n,2),j=s[0],u=s[1],p=Object(d.useState)(0),h=Object(l.a)(p,2),O=h[0],g=h[1],y=Object(d.useState)(""),v=Object(l.a)(y,2),S=v[0],E=v[1],C=Object(d.useState)(""),w=Object(l.a)(C,2),I=w[0],_=w[1],R=Object(d.useState)(""),A=Object(l.a)(R,2),T=A[0],D=A[1],P=Object(d.useState)(""),L=Object(l.a)(P,2),U=L[0],k=L[1],z=Object(d.useState)(""),W=Object(l.a)(z,2),F=W[0],B=W[1],M=Object(d.useState)(!1),q=Object(l.a)(M,2),N=(q[0],q[1]),Q=Object(c.c)((function(e){return e.productDetails})),G=Q.loading,V=Q.error,Y=Q.product,J=Object(c.c)((function(e){return e.productUpdate})),H=J.loading,X=J.error,K=J.success;Object(d.useEffect)((function(){K?(t({type:Fe}),e("/admin/productlist"),t({type:_e})):Y.name&&Y._id===r?(u(Y.name),g(Y.price),E(Y.image),_(Y.brand),D(Y.category),B(Y.countInStock),k(Y.description)):t(Ge(r))}),[t,e,r,Y,K]);var Z=function(){var e=Object(f.a)(x.a.mark((function e(t){var r,n,c,s,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("image",r),N(!0),e.prev=4,c={headers:{"Content-Type":"multipart/form-data"}},e.next=8,m.a.post("/api/uploads",n,c);case 8:s=e.sent,a=s.data,E(a),N(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(V),N(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(a.a,{children:[" ",Object(pe.jsx)(b.a,{as:o.b,to:"/",bgColor:"gray.900",colorScheme:"teal",fontWeight:"bold",_hover:{color:"orange.500"},children:"Go Back"})]}),Object(pe.jsx)(a.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(pe.jsxs)(st,{children:[Object(pe.jsx)(a.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Edit Product"}),H&&Object(pe.jsx)(He,{}),X&&Object(pe.jsx)(Ye,{type:"error",children:X}),G?Object(pe.jsx)(He,{}):V?Object(pe.jsx)(Ye,{type:"error",children:V}):Object(pe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ke}),c=n(),s=c.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.put("/api/products/".concat(e._id),e,a);case 6:o=t.sent,i=o.data,r({type:ze,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:We,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:r,name:j,price:O,image:S,brand:I,category:T,description:U,countInStock:F}))},children:[Object(pe.jsxs)($e.a,{id:"name",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Name"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter name",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"price",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Price"}),Object(pe.jsx)(ct.a,{type:"number",placeholder:"Enter price",value:O,onChange:function(e){return g(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"image",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Image"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter image url",value:S,onChange:function(e){return E(e.target.value)}}),Object(pe.jsx)(ct.a,{type:"file",id:"image-file",onChange:Z})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"description",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Description"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter description",value:U,onChange:function(e){return k(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"brand",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Brand"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter brand",value:I,onChange:function(e){return _(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"category",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Category"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter category",value:T,onChange:function(e){return D(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"countInStock",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Count In Stock"}),Object(pe.jsx)(ct.a,{type:"number",placeholder:"Product in stock",value:F,onChange:function(e){return B(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsx)(b.a,{type:"submit",isLoading:G,colorScheme:"teal",mt:"4",children:"Update"})]})]})})]})},it="CART_ADD_ITEMS",lt="CART_REMOVE_ITEMS",dt=" CART_SAVE_SHIPPING_ADDRESS",jt="CART_SAVE_PAYMENT_METHOD",ut=function(e,t){return function(){var r=Object(f.a)(x.a.mark((function r(n,c){var s,a;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.a.get("/api/products/".concat(e));case 2:s=r.sent,a=s.data,n({type:it,payload:{product:a._id,name:a.name,price:a.price,countInStock:a.countInStock,image:a.image,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},bt=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(o.c)(),n=Object(l.a)(r,1)[0],s=Object(i.g)().id,u=n.get("qty"),p=Object(c.c)((function(e){return e.cart})).cartItems;Object(d.useEffect)((function(){s&&e(ut(s,u))}),[e,s,u]);var O=function(t){e(function(e){return function(t,r){t({type:lt,payload:e}),localStorage.removeItem("cartItems",JSON.stringify(r().cartItems))}}(t))};return Object(pe.jsx)(a.d,{gridTemplateColumns:"3",children:Object(pe.jsxs)(a.a,{children:[Object(pe.jsx)(a.f,{mb:"8",textColor:"green.900",children:"Shopping Cart"}),Object(pe.jsx)(a.c,{children:0===p.length?Object(pe.jsxs)(Ye,{children:["Your cart is Empty."," ",Object(pe.jsx)(a.g,{as:o.b,to:"/",children:"Go Back"})]}):Object(pe.jsxs)(a.d,{templateColumns:{lg:"4fr 2fr",md:"1fr 1fr",sm:"1fr",base:"1fr"},gap:"10",width:"full",children:[Object(pe.jsx)(a.c,{direction:"column",children:p.map((function(t){return Object(pe.jsxs)(a.d,{size:"100%",alignItems:"center",justifyContent:"space-between",borderBottom:"1px",borderColor:"green.900",py:"4",px:"2",rounded:"lg",templateColumns:{lg:"1fr 4fr 2fr 2fr 1fr ",md:"1fr lfr 1fr 1fr 1fr",sm:"1fr 1fr 1fr 1fr ",base:"1fr 1fr"},children:[Object(pe.jsx)(ge.a,{src:t.image,alt:t.name,borderRadius:"lg",height:"14",objectFit:"cover"}),Object(pe.jsx)(a.i,{fontWeight:"semibold",fontSize:"lg",children:Object(pe.jsx)(a.g,{as:o.b,to:"/product/".concat(t.product),children:t.name})}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"lg",color:"orange.900",children:["\u20b9",t.price]}),Object(pe.jsx)(Ze.a,{value:t.qty,onChange:function(r){return e(ut(t.product,+r.target.value))},borderColor:"green.900",width:"20",children:Object(Ke.a)(Array(t.countInStock).keys()).map((function(e){return Object(pe.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(pe.jsx)(b.a,{type:"button",colorScheme:"red",onClick:function(){return O(t.product)},borderColor:"green.900",children:Object(pe.jsx)(j.a,{as:h.j})})]},t.product)}))}),Object(pe.jsx)(a.c,{direction:"column",border:"1px",borderWidth:"2",borderColor:"green.900",rounded:"md",padding:"5",height:"48",justifyContent:"space-between",children:Object(pe.jsxs)(a.c,{direction:"column",children:[Object(pe.jsxs)(a.f,{as:"h2",fontSize:"2xl",mb:"2",color:"gray.900",children:["Subtotal(",p.reduce((function(e,t){return e+(+t.qty||1)}),0),")items"]}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"2xl",color:"orange.900",mb:"4",children:["\u20b9",p.reduce((function(e,t){return e+(t.qty||1)*t.price}),0)]}),Object(pe.jsx)(b.a,{type:"button",disabled:0===p.length,size:"lg",colorScheme:"orange",bgColor:"green.900",onClick:function(){t("/login?redirect=shipping")},children:"Proceed To CheckOut"})]})})]})})]})})},pt=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(o.c)(),n=Object(l.a)(r,1)[0].get("redirect")||"/",s=Object(d.useState)(""),j=Object(l.a)(s,2),u=j[0],p=j[1],h=Object(d.useState)(""),O=Object(l.a)(h,2),g=O[0],E=O[1],C=Object(c.c)((function(e){return e.userLogin})),w=C.loading,I=C.error,_=C.userInfo;Object(d.useEffect)((function(){_&&t(n.length>1?"/".concat(n):"".concat(n))}),[_,t,n]);return Object(pe.jsx)(a.c,{width:"full",alignItems:"center",justifyContent:"center",py:"8",mt:"4",children:Object(pe.jsxs)(st,{children:[Object(pe.jsx)(a.f,{as:"h1",mb:"8",fontSize:"3xl",children:"LogIn"}),I&&Object(pe.jsx)(Ye,{type:"error",children:I}),Object(pe.jsxs)("form",{onSubmit:function(t){e({type:Ne}),t.preventDefault(),e(function(e,t){return function(){var r=Object(f.a)(x.a.mark((function r(n){var c,s,a;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:y}),c={headers:{"Content-Type":"application/json"}},r.next=5,m.a.post("/api/users/login",{email:e,password:t},c);case 5:s=r.sent,a=s.data,n({type:v,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:S,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(u,g))},children:[Object(pe.jsxs)($e.a,{id:"email",children:[Object(pe.jsx)($e.b,{children:"Email Address"}),Object(pe.jsx)(ct.a,{type:"email",placeholder:"username@domain.com",value:u,onChange:function(e){return p(e.target.value)}})]})," ",Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{children:[Object(pe.jsx)($e.b,{children:"Password"}),Object(pe.jsx)(ct.a,{type:"password",placeholder:"Confidential",value:g,onChange:function(e){return E(e.target.value)}}),Object(pe.jsx)(b.a,{type:"submit",isLoading:w,mt:"4",colorScheme:"green",children:"Login"})]})]}),Object(pe.jsx)(a.c,{pt:"5",children:Object(pe.jsxs)(a.i,{fontWeight:"semibold",children:["New Customer ?",Object(pe.jsxs)(a.g,{as:o.b,to:n?"/register?redirect=".concat(n):"/register",children:[Object(pe.jsx)(a.h,{h:"2"}),"Register"]})]})})]})})},ht=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(o.c)(),n=Object(l.a)(r,1)[0].get("redirect")||"/",s=Object(d.useState)(""),j=Object(l.a)(s,2),u=j[0],p=j[1],h=Object(d.useState)(""),O=Object(l.a)(h,2),g=O[0],y=O[1],S=Object(d.useState)(""),E=Object(l.a)(S,2),_=E[0],R=E[1],A=Object(d.useState)(""),T=Object(l.a)(A,2),D=T[0],P=T[1],L=Object(d.useState)(null),U=Object(l.a)(L,2),k=U[0],z=U[1],W=Object(c.c)((function(e){return e.userRegister})),F=W.loading,B=W.error,M=W.userInfo;Object(d.useEffect)((function(){M&&t(n)}),[M,t,n]);return Object(pe.jsx)(a.c,{width:"full",alignItems:"center",justifyContent:"center",py:"8",children:Object(pe.jsxs)(st,{children:[Object(pe.jsx)(a.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Register"}),B&&Object(pe.jsx)(Ye,{type:"error",children:B}),k&&Object(pe.jsx)(Ye,{type:"error",children:k}),Object(pe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),_!==D?z("password do not match"):e(function(e,t,r){return function(){var n=Object(f.a)(x.a.mark((function n(c){var s,a,o;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:C}),s={headers:{"Content-Type":"application/json"}},n.next=5,m.a.post("api/users",{name:e,email:t,password:r},s);case 5:a=n.sent,o=a.data,c({type:w,payload:o}),c({type:v,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),c({type:I,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(u,g,_))},children:[Object(pe.jsxs)($e.a,{id:"name",children:[Object(pe.jsx)($e.b,{children:"Name"}),Object(pe.jsx)(ct.a,{required:!0,type:"text",placeholder:"Your full name",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(pe.jsxs)($e.a,{id:"email",children:[Object(pe.jsx)($e.b,{children:"Email Address"}),Object(pe.jsx)(ct.a,{required:!0,type:"email",placeholder:"username@domain.com",value:g,onChange:function(e){return y(e.target.value)}})]})," ",Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"password",children:[Object(pe.jsx)($e.b,{children:"Password"}),Object(pe.jsx)(ct.a,{required:!0,type:"password",placeholder:"Confidential",value:_,onChange:function(e){return R(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"confirmPassword",children:[Object(pe.jsx)($e.b,{children:"Confirm Password"}),Object(pe.jsx)(ct.a,{required:!0,type:"password",placeholder:"Type password again",onChange:function(e){return P(e.target.value)},value:D})]}),Object(pe.jsx)(b.a,{type:"submit",isLoading:F,mt:"4",colorScheme:"green",children:"Register"})]}),Object(pe.jsx)(a.c,{pt:"5",children:Object(pe.jsxs)(a.i,{fontWeight:"semibold",children:["Have an account?",Object(pe.jsx)(a.g,{as:o.b,to:n?"/login?redirect=".concat(n):"/login",children:"Login"})]})})]})})},Ot=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(d.useState)(""),n=Object(l.a)(r,2),s=n[0],u=n[1],p=Object(d.useState)(""),O=Object(l.a)(p,2),g=O[0],y=O[1],v=Object(d.useState)(""),S=Object(l.a)(v,2),E=S[0],C=S[1],w=Object(d.useState)(""),I=Object(l.a)(w,2),_=I[0],R=I[1],A=Object(d.useState)(null),T=Object(l.a)(A,2),U=T[0],k=T[1],z=Object(c.c)((function(e){return e.userDetails})),W=z.loading,F=z.error,B=z.user;console.log(B);var M=Object(c.c)((function(e){return e.userLogin})).userInfo,q=Object(c.c)((function(e){return e.userUpdateProfile})),N=Object(c.c)((function(e){return e.orderMyList})),Q=N.loading,G=N.error,V=N.orders;console.log(N);var Y=q.success;Object(d.useEffect)((function(){M?B.name?(u(B.name),y(B.email)):(e(be("profile")),e(function(){var e=Object(f.a)(x.a.mark((function e(t,r){var n,c,s,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ne}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,m.a.get("/api/orders/myorders",s);case 6:a=e.sent,o=a.data,t({type:ce,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:se,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t("/login")}),[t,e,B,M]);return console.log(V),Object(pe.jsxs)(a.d,{templateColumns:{sm:"1fr",md:"1fr 1fr"},py:"5",gap:"10",children:[Object(pe.jsx)(a.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",mt:"5",children:Object(pe.jsxs)(st,{children:[Object(pe.jsx)(a.f,{as:"h1",mb:"8",fontSize:"3xl",children:"User Profile"}),F&&Object(pe.jsx)(Ye,{type:"error",children:F}),U&&Object(pe.jsx)(Ye,{type:"error",children:U}),Y&&Object(pe.jsx)(Ye,{type:"success",children:"Profile Updated!"}),Object(pe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),E!==_?k("Password do not match"):e(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:D}),c=n(),s=c.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.put("/api/users/profile",e,a);case 6:o=t.sent,i=o.data,r({type:P,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:L,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:B._id,name:s,email:g,password:E}))},children:[Object(pe.jsxs)($e.a,{id:"name",children:[Object(pe.jsx)($e.b,{children:"Name"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter full name",value:s,onChange:function(e){return u(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"email",children:[Object(pe.jsx)($e.b,{children:"Email address"}),Object(pe.jsx)(ct.a,{type:"email",placeholder:"Enter email",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"password",children:[Object(pe.jsx)($e.b,{children:"Password"}),Object(pe.jsx)(ct.a,{type:"password",placeholder:"Enter password",value:E,onChange:function(e){return C(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"confirmPassword",children:[Object(pe.jsx)($e.b,{children:"Confirm Password"}),Object(pe.jsx)(ct.a,{type:"password",placeholder:"Enter password again",value:_,onChange:function(e){return R(e.target.value)}})]}),Object(pe.jsx)(b.a,{type:"submit",isLoading:W,mt:"4",colorScheme:"orange",children:"Update"})]})]})}),Object(pe.jsxs)(a.c,{direction:"column",mt:"16",children:[Object(pe.jsx)(a.f,{as:"h2",children:"My Orders"}),Q?Object(pe.jsx)(He,{}):G?Object(pe.jsx)(Ye,{type:"error",children:G}):Object(pe.jsxs)(rt.a,{varient:"striped",children:[Object(pe.jsx)(rt.e,{children:Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.d,{children:"ID"}),Object(pe.jsx)(rt.d,{children:"DATE"}),Object(pe.jsx)(rt.d,{children:"TOTAL"}),Object(pe.jsx)(rt.d,{children:"PAID"}),Object(pe.jsx)(rt.d,{children:"DELIVERED"}),Object(pe.jsx)(rt.d,{})]})}),Object(pe.jsx)(rt.b,{children:V.map((function(e){return Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.c,{children:e._id}),Object(pe.jsx)(rt.c,{children:e.createdAt.split("T")[0]}),Object(pe.jsx)(rt.c,{children:e.totalPrice}),Object(pe.jsx)(rt.c,{children:e.isPaid?e.paidAt.substring(0,10):Object(pe.jsx)(j.a,{as:h.l,color:"red"})}),Object(pe.jsx)(rt.c,{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(pe.jsx)(j.a,{as:h.l,color:"red"})}),Object(pe.jsx)(rt.c,{children:Object(pe.jsx)(a.g,{as:o.b,to:"/order/".concat(e._id),children:Object(pe.jsx)(b.a,{colorScheme:"orange",size:"sm",children:"Details"})})})]},e._id)}))})]})]})]})},xt=r(80),ft=function(e){var t=e.step1,r=e.step2,n=e.step3,c=e.step4;return Object(pe.jsx)(a.c,{justifyContent:"center",mb:"8",children:Object(pe.jsxs)(xt.a,{separator:Object(pe.jsx)(h.b,{color:"gray.500"}),children:[Object(pe.jsx)(xt.b,{children:t?Object(pe.jsx)(xt.c,{children:"Login"}):Object(pe.jsx)(xt.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Login"})}),Object(pe.jsx)(xt.b,{children:r?Object(pe.jsx)(xt.c,{as:o.b,to:"/shipping",children:"Shipping"}):Object(pe.jsx)(xt.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Shipping"})}),Object(pe.jsx)(xt.b,{children:n?Object(pe.jsx)(xt.c,{as:o.b,to:"/payment",children:"Payment"}):Object(pe.jsx)(xt.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Payment"})}),Object(pe.jsx)(xt.b,{children:c?Object(pe.jsx)(xt.c,{as:o.b,to:"/placeorder",children:"Place Order"}):Object(pe.jsx)(xt.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Place Order"})})]})})},gt=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(c.c)((function(e){return e.cart})),n=r.shippingAddress;console.log(r);var s=Object(d.useState)(n.address||""),o=Object(l.a)(s,2),j=o[0],u=o[1],p=Object(d.useState)(n.city||""),h=Object(l.a)(p,2),O=h[0],x=h[1],f=Object(d.useState)(n.postalCode||""),g=Object(l.a)(f,2),m=g[0],y=g[1],v=Object(d.useState)(n.city||""),S=Object(l.a)(v,2),E=S[0],C=S[1];return Object(pe.jsx)(a.c,{alignItems:"center",justifyContent:"center",py:"5",w:"full",mt:"3",children:Object(pe.jsxs)(st,{children:[Object(pe.jsx)(ft,{step1:!0,step2:!0}),Object(pe.jsx)(a.f,{as:"h1",fontSize:"3xl",mb:"8",children:"Shipping"}),Object(pe.jsxs)("form",{onSubmit:function(r){var n;r.preventDefault(),e((n={address:j,city:O,postalCode:m,country:E},function(e){e({type:dt,payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n))})),t("/payment")},children:[Object(pe.jsxs)($e.a,{id:"address",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Address"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter your addresss",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"city",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"City"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:" Enter City",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"postalCode",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"PostalCode"}),Object(pe.jsx)(ct.a,{type:"number",placeholder:"Enter Postal Code",value:m,onChange:function(e){return y(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"country",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Country"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter Country",value:E,onChange:function(e){return C(e.target.value)}})]}),Object(pe.jsx)(b.a,{type:"submit",mt:"4",colorScheme:"green",children:"Continue ..."})]})]})})},mt=r(81),yt=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(c.c)((function(e){return e.cart})),n=r.shippingAddress,s=r.paymentMethod,o=Object(d.useState)(s||"paypal"),j=Object(l.a)(o,2),u=j[0],p=j[1];n||t("/shipping");return Object(pe.jsx)(a.c,{justifyContent:"center ",mt:"5",children:Object(pe.jsxs)(st,{children:[Object(pe.jsx)(ft,{step1:!0,step2:!0,step3:!0}),Object(pe.jsx)(a.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Payment Method"}),Object(pe.jsxs)("form",{onSubmit:function(r){var n;r.preventDefault(),console.log(),e((n=u,function(e){e({type:jt,payload:n}),localStorage.setItem("savePaymentMethod",JSON.stringify(n))})),t("/placeOrder")},children:[Object(pe.jsx)($e.a,{as:"fieldset",children:Object(pe.jsx)($e.b,{as:"legend",children:Object(pe.jsx)(mt.b,{defaultValue:u,children:Object(pe.jsx)(a.e,{spacing:"24px",children:Object(pe.jsx)(mt.a,{value:"paypal",onChange:function(e){return p(e.target.value)},children:"payment or credit/debit card"})})})})}),Object(pe.jsx)(b.a,{type:"submit",mt:"4",colorScheme:"green",children:"Continue..."})]})]})})},vt=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(c.c)((function(e){return e.cart}));r.itemsPrice=r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),r.shippingPrice=r.itemsPrice<1e3?1e3:0,r.taxPrice=18*r.itemsPrice/100,r.totalPrice=r.itemsPrice+r.shippingPrice+r.taxPrice;var n=Object(c.c)((function(e){return e.orderCreate})),s=n.success,l=n.order,j=n.error;return Object(d.useEffect)((function(){console.log(l),s&&t("/orders/".concat(l._id))}),[s]),Object(pe.jsxs)(a.c,{w:"full",py:"5",direction:"column",children:[Object(pe.jsx)(ft,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(pe.jsxs)(a.d,{templateColumns:{lg:"3fr 2fr",md:"1fr 1fr",sm:"1fr",base:"1fr"},gap:"20",children:[Object(pe.jsxs)(a.c,{direction:"column",children:[Object(pe.jsxs)(a.a,{borderBottom:"1px",py:"6",borderColor:"geen.900",children:[Object(pe.jsx)(a.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Shipping"}),Object(pe.jsxs)(a.i,{children:[Object(pe.jsx)("strong",{children:"Address:"}),r.shippingAddress.address,", ",r.shippingAddress.city,","," ",r.shippingAddress.postalCode,", ",r.shippingAddress.country]})]}),Object(pe.jsxs)(a.a,{borderBottom:"1px",py:"6",borderColor:"green.900",children:[Object(pe.jsx)(a.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Payment Method"}),Object(pe.jsxs)(a.i,{children:[Object(pe.jsx)("strong",{children:"Method: "})," ",Object(pe.jsx)("span",{style:{textTransform:"capitalize"},children:r.paymentMethod})]})]}),Object(pe.jsxs)(a.a,{borderBottom:"1px",py:"6",borderColor:"green.900",children:[Object(pe.jsx)(a.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Order Items"}),Object(pe.jsx)(a.a,{children:0===r.cartItems.length?Object(pe.jsx)(Ye,{children:"Your cart is empty"}):Object(pe.jsx)(a.a,{py:"2",children:r.cartItems.map((function(e,t){return Object(pe.jsxs)(a.c,{alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsxs)(a.c,{py:"2",alignItems:"center",children:[Object(pe.jsx)(ge.a,{src:e.image,alt:e.name,w:"12",h:"12",objectFit:"cover",mr:"6"}),Object(pe.jsx)(a.g,{as:o.b,to:"/product/".concat(e.product),fontWeight:"medium",fontSize:"xl",children:e.name})]}),Object(pe.jsxs)(a.i,{fontSize:"lg",fontWeight:"semibold",children:[e.qty||1," x \u20b9",e.price," = \u20b9",(e.qty||1)*e.price]})]},t)}))})})]})]}),Object(pe.jsxs)(a.c,{direction:"column",bgColor:"white",justifyContent:"space-between",py:"8",px:"8",shadow:"md",rounded:"lg",borderColor:"green.900",children:[Object(pe.jsxs)(a.a,{children:[Object(pe.jsx)(a.f,{mb:"6",as:"h2",fontSize:"3xl",fontWeight:"bold",children:"Order Summery"}),Object(pe.jsxs)(a.c,{borderBottom:"1px",py:"2",borderColor:"green.900",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Items"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",r.itemsPrice]})]}),Object(pe.jsxs)(a.c,{borderBottom:"1px",py:"2",borderColor:"green.900",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Shipping"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",r.shippingPrice]})]}),Object(pe.jsxs)(a.c,{borderBottom:"1px",py:"2",borderColor:"green.900",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Tax"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",r.taxPrice]})]}),Object(pe.jsxs)(a.c,{py:"2",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Items"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",color:"orange.900",children:["\u20b9",r.totalPrice]})]})]}),j&&Object(pe.jsx)(Ye,{type:"error",children:j}),Object(pe.jsx)(b.a,{size:"lg",textTransform:"uppercase",colorScheme:"yellow",type:"button",disabled:0===r.cartItems,onClick:function(){e(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Y}),c=n(),s=c.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.post("/api/orders",e,a);case 6:o=t.sent,i=o.data,r({type:J,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:H,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:r.cartItems,shippingPrice:r.shippingPrice,shippingAddress:r.shippingAddress,paymentMethod:r.paymentMethod,itemsPrice:r.itemsPrice,taxPrice:r.taxPrice,totalPrice:r.totalPrice}))},children:"Place Order"})]})]})]})},St=r(86),Et=function(){var e=Object(i.g)().id,t=Object(c.b)(),r=Object(d.useState)(!1),n=Object(l.a)(r,2),s=n[0],j=n[1],u=Object(c.c)((function(e){return e.orderDetails})),p=u.loading,h=u.order,O=u.error,g=Object(c.c)((function(e){return e.orderPay})),y=g.loading,v=g.success,S=Object(c.c)((function(e){return e.orderDeliver})),E=S.loading,C=(S.error,S.success),w=Object(c.c)((function(e){return e.userLogin})).userInfo;p||(h.itemsPrice=h.orderItems.reduce((function(e,t){return e+t.price*(t.qty||1)}),0)),Object(d.useEffect)((function(){var r,n=function(){var e=Object(f.a)(x.a.mark((function e(){var t,r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,console.log(r),(n=document.createElement("script")).type="text/javascript",n.async=!0,n.src="https://www.paypal.com/sdk/js?client-id=".concat(r),n.onload=function(){j(!0),console.log(s)},document.body.appendChild(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!h||v||C?(t({type:ue}),t({type:re}),t((r=e,function(){var e=Object(f.a)(x.a.mark((function e(t,n){var c,s,a,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:X}),c=n(),s=c.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,m.a.get("/api/orders/".concat(r),a);case 6:o=e.sent,i=o.data,t({type:K,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Z,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))):h.isPaid||(window.paypal?j(!0):n())}),[t,e,v,h]);return p?Object(pe.jsx)(He,{}):O?Object(pe.jsx)(Ye,{type:"error",children:O}):Object(pe.jsx)(a.c,{w:"full",py:"2",direction:"column",mt:"2",children:Object(pe.jsxs)(a.d,{templateColumns:{lg:"3fr 2fr",md:"1fr 1fr",sm:"1fr",base:"1fr"},gap:"20",children:[Object(pe.jsxs)(a.c,{direction:"column",marginTop:"1",children:[Object(pe.jsxs)(a.a,{borderBottom:"1px",py:"6",borderColor:"geen.900",children:[Object(pe.jsx)(a.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Shipping"}),Object(pe.jsxs)(a.i,{children:["Name:",Object(pe.jsx)("strong",{children:h.user.name})]}),Object(pe.jsxs)(a.i,{children:["Email:",Object(pe.jsx)("strong",{children:Object(pe.jsx)("a",{style:{textDecoration:"underline"},href:"mailto:".concat(h.user.email),children:h.user.email})})]}),Object(pe.jsxs)(a.i,{children:["Address:",Object(pe.jsxs)("strong",{children:[" ",h.shippingAddress.address,", ",h.shippingAddress.city,","," ",h.shippingAddress.postalCode,","," ",h.shippingAddress.country]})]}),Object(pe.jsx)(a.i,{mt:"2",children:h.isDelivered?Object(pe.jsxs)(Ye,{type:"success",children:["Delivered On ",h.DeliveredAt]}):Object(pe.jsx)(Ye,{type:"error",children:"Not Delivered"})})]}),Object(pe.jsxs)(a.a,{borderBottom:"1px",py:"6",borderColor:"green.900",children:[Object(pe.jsx)(a.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Payment Method"}),Object(pe.jsxs)(a.i,{children:[Object(pe.jsx)("strong",{children:"Method: "})," ",Object(pe.jsx)("span",{style:{textTransform:"capitalize"},children:h.paymentMethod})]})]}),Object(pe.jsxs)(a.a,{borderBottom:"1px",py:"6",borderColor:"gray.300",children:[Object(pe.jsx)(a.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Order Items"}),Object(pe.jsx)(a.a,{children:0===h.orderItems.length?Object(pe.jsx)(Ye,{children:"Order is empty"}):Object(pe.jsx)(a.a,{py:"2",children:h.orderItems.map((function(e,t){return Object(pe.jsxs)(a.c,{alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsxs)(a.c,{py:"2",alignItems:"center",children:[Object(pe.jsx)(ge.a,{src:e.image,alt:e.name,w:"12",h:"12",objectFit:"cover",mr:"6"}),Object(pe.jsx)(a.g,{as:o.b,to:"/product/".concat(e.product),fontWeight:"medium",fontSize:"xl",children:e.name})]}),Object(pe.jsxs)(a.i,{fontSize:"lg",fontWeight:"semibold",children:[e.qty||1," x \u20b9",e.price," = \u20b9",(e.qty||1)*e.price]})]},t)}))})})]})]}),Object(pe.jsxs)(a.c,{direction:"column",bgColor:"white",justifyContent:"space-between",py:"8",px:"8",shadow:"md",rounded:"lg",borderColor:"green.900",children:[Object(pe.jsxs)(a.a,{children:[Object(pe.jsx)(a.f,{mb:"6",as:"h2",fontSize:"3xl",fontWeight:"bold",children:"Order Summery"}),Object(pe.jsxs)(a.c,{borderBottom:"1px",py:"2",borderColor:"green.900",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Items"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",h.itemsPrice]})]}),Object(pe.jsxs)(a.c,{borderBottom:"1px",py:"2",borderColor:"green.900",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Shipping"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",h.shippingPrice]})]}),Object(pe.jsxs)(a.c,{borderBottom:"1px",py:"2",borderColor:"green.900",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Tax"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",h.taxPrice]})]}),Object(pe.jsxs)(a.c,{py:"2",alignItems:"center",justifyContent:"space-between",children:[Object(pe.jsx)(a.i,{fontSize:"xl",children:"Items"}),Object(pe.jsxs)(a.i,{fontWeight:"bold",fontSize:"xl",color:"orange.900",children:["\u20b9",h.totalPrice]})]})]}),!h.isPaid&&Object(pe.jsxs)(a.a,{children:[y&&Object(pe.jsx)(He,{}),s?Object(pe.jsx)(St.PayPalButton,{amount:h.totalPrice,onSuccess:function(r){t(function(e,t){return function(){var r=Object(f.a)(x.a.mark((function r(n,c){var s,a,o,i,l;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:$}),s=c(),a=s.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},r.next=6,m.a.put("/api/orders/".concat(e,"/pay"),t,o);case 6:i=r.sent,l=i.data,n({type:ee,payload:l}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:te,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(e,r))}}):Object(pe.jsx)(He,{})]}),E&&Object(pe.jsx)(He,{}),w&&w.isAdmin&&h.isPaid&&!h.isDelivered&&Object(pe.jsx)(b.a,{type:"button",bgColor:"green.900",colorScheme:"white",onClick:function(){return t(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:de}),c=n(),s=c.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.put("/api/orders/".concat(e._id,"/deliver"),{},a);case 6:o=t.sent,i=o.data,r({type:je,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_DELIVER_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(h))},children:"Mark As Delivered"})]})]})})},Ct=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(c.c)((function(e){return e.userList})),n=r.loading,s=r.users,l=r.error,u=Object(c.c)((function(e){return e.userLogin})).userInfo,p=Object(c.c)((function(e){return e.userDelete})).success;Object(d.useEffect)((function(){u&&u.isAdmin?e(function(){var e=Object(f.a)(x.a.mark((function e(t,r){var n,c,s,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:k}),n=r(),c=n.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,m.a.get("/api/users/",s);case 6:a=e.sent,o=a.data,t({type:z,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:W,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t("/login")}),[e,u,p]);var O=function(t){window.confirm("Are You Sure ?")&&e(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:B}),c=n(),s=c.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.delete("/api/users/".concat(e),a);case 6:r({type:M}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:q,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))};return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(a.f,{as:"h1",mb:"2",fontSize:"3xl",mt:"3",children:"Users"}),n?Object(pe.jsx)(He,{}):l?Object(pe.jsx)(Ye,{type:"error",children:l}):Object(pe.jsx)(a.a,{overflow:{lg:"auto",md:"scroll",sm:"scroll",base:"scroll"},bgColor:"white",rounded:"lg",px:"5",py:"5",mt:"5",children:Object(pe.jsxs)(rt.a,{variant:"striped",colorScheme:"green",size:"sm",children:[Object(pe.jsx)(rt.e,{children:Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.d,{children:"ID"}),Object(pe.jsx)(rt.d,{children:"NAME"}),Object(pe.jsx)(rt.d,{children:"EMAIL"}),Object(pe.jsx)(rt.d,{children:"ADMIN"}),Object(pe.jsx)(rt.d,{})]})}),Object(pe.jsx)(rt.b,{children:s.map((function(e){return Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.c,{children:e._id}),Object(pe.jsx)(rt.c,{children:e.name}),Object(pe.jsx)(rt.c,{children:Object(pe.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(pe.jsx)(rt.c,{children:e.isAdmin?Object(pe.jsx)(j.a,{as:h.c,color:"green.600",w:"8",h:"8"}):Object(pe.jsx)(j.a,{as:h.e,color:"red.600",w:"8",h:"8"})}),Object(pe.jsx)(rt.c,{children:Object(pe.jsxs)(a.c,{justifyContent:"flex-end",alignItems:"center",children:[Object(pe.jsx)(b.a,{mr:"4",as:o.b,to:"/admin/user/".concat(e._id,"/edit"),colorScheme:"orange",children:Object(pe.jsx)(j.a,{as:h.f,color:"white",size:"sm"})}),Object(pe.jsx)(b.a,{mr:"4",colorScheme:"red",onClick:function(){return O(e._id)},children:Object(pe.jsx)(j.a,{as:h.k,color:"white",size:"sm"})})]})})]},e._id)}))})]})})]})},wt=r(82),It=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(i.g)().id,n=Object(d.useState)(""),s=Object(l.a)(n,2),j=s[0],u=s[1],p=Object(d.useState)(""),h=Object(l.a)(p,2),O=h[0],g=h[1],y=Object(d.useState)(!1),v=Object(l.a)(y,2),S=v[0],E=v[1],C=Object(c.c)((function(e){return e.userDetails})),w=C.loading,I=C.error,_=C.user,R=Object(c.c)((function(e){return e.userUpdate})),A=R.loading,T=R.error,D=R.success;Object(d.useEffect)((function(){D?(e({type:V}),t("/admin/userlist")):_.name&&_._id===r?(u(_.name),g(_.email),E(_.isAdmin),e({type:V})):e(be(r))}),[_,e,r,D,t]);return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(a.a,{children:Object(pe.jsx)(b.a,{as:o.b,to:"/admin/userlist",bgColor:"green.900",colorScheme:"teal",fontWeight:"bold",_hover:{color:"orange.500"},children:"Go Back"})}),Object(pe.jsx)(a.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(pe.jsxs)(st,{children:[Object(pe.jsx)(a.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Edit User"}),A&&Object(pe.jsx)(He,{}),T&&Object(pe.jsx)(Ye,{type:"error",children:T}),w?Object(pe.jsx)(He,{}):I?Object(pe.jsx)(Ye,{type:"error",children:I}):Object(pe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,n){var c,s,a,o,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:N}),c=n(),s=c.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,m.a.put("/api/users/".concat(e._id),e,a);case 6:o=t.sent,i=o.data,r({type:Q,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:G,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:r,name:j,email:O,isAdmin:S}))},children:[Object(pe.jsxs)($e.a,{id:"name",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Name"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter full name",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"email",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Email Address"}),Object(pe.jsx)(ct.a,{type:"text",placeholder:"Enter email address",value:O,onChange:function(e){return g(e.target.value)}})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsxs)($e.a,{id:"isAdmin",isRequired:!0,children:[Object(pe.jsx)($e.b,{children:"Is Admin?"}),Object(pe.jsx)(wt.a,{size:"lg",colorScheme:"teal",ischecked:S,onChange:function(e){return E(e.target.checked)},children:"Is Admin?"})]}),Object(pe.jsx)(a.h,{h:"3"}),Object(pe.jsx)(b.a,{type:"submit",isLoading:w,colorScheme:"teal",mt:"4",children:"Update"})]})]})})]})},_t=function(){var e=Object(c.b)(),t=Object(i.f)(),r=Object(c.c)((function(e){return e.userLogin})).userInfo,n=Object(c.c)((function(e){return e.orderList})),s=n.loading,l=n.error,u=n.orders;return Object(d.useEffect)((function(){r&&r.isAdmin?e(function(){var e=Object(f.a)(x.a.mark((function e(t,r){var n,c,s,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:oe}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,m.a.get("/api/orders",s);case 6:a=e.sent,o=a.data,t({type:ie,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:le,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t("/login")}),[e,r]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(a.f,{as:"h1",mb:"5",fontSize:"3xl",children:"Orders"}),s?Object(pe.jsx)(He,{}):l?Object(pe.jsx)(Ye,{type:"error",children:l}):Object(pe.jsx)(a.a,{bgColor:"white",py:"5",px:"5",rounded:"lg",shadow:"lg",overflow:{lg:"auto",md:"scroll",sm:"scroll",base:"scroll"},children:Object(pe.jsxs)(rt.a,{size:"sm",variant:"striped",colorScheme:"green",children:[Object(pe.jsx)(rt.e,{children:Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.d,{children:"ID"}),Object(pe.jsx)(rt.d,{children:"USER"}),Object(pe.jsx)(rt.d,{children:"DATE"}),Object(pe.jsx)(rt.d,{children:"TOTAL PRICE"}),Object(pe.jsx)(rt.d,{children:"PAID"}),Object(pe.jsx)(rt.d,{children:"DELIVERED"}),Object(pe.jsx)(rt.d,{})]})}),Object(pe.jsx)(rt.b,{children:u.map((function(e){return Object(pe.jsxs)(rt.f,{children:[Object(pe.jsx)(rt.c,{children:e._id}),Object(pe.jsx)(rt.c,{children:e.user&&e.user.name}),Object(pe.jsx)(rt.c,{children:e.createdAt.substring(0,10)}),Object(pe.jsxs)(rt.c,{children:["\u20b9",e.totalPrice]}),Object(pe.jsx)(rt.c,{children:e.isPaid?e.paidAt.substring(0,10):Object(pe.jsx)(j.a,{as:h.e,w:"8",h:"8",color:"red.600"})}),Object(pe.jsx)(rt.c,{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(pe.jsx)(j.a,{as:h.e,w:"8",h:"8",color:"red.600"})}),Object(pe.jsx)(rt.c,{children:Object(pe.jsx)(a.c,{justifyContent:"flex-end",alignItems:"center",children:Object(pe.jsx)(b.a,{mr:"4",as:o.b,to:"/orders/".concat(e._id),color:"teal",children:"Details"})})})]},e._id)}))})]})})]})},Rt=function(){return Object(pe.jsxs)(o.a,{children:[Object(pe.jsx)(Oe,{}),Object(pe.jsx)(a.c,{as:"main",py:"2",px:"2",bgColor:"green.400",mt:"72px",minH:"xl",direction:"column",padding:"6",children:Object(pe.jsxs)(i.c,{children:[Object(pe.jsx)(i.a,{path:"/",element:Object(pe.jsx)(Xe,{})}),Object(pe.jsx)(i.a,{path:"/product/:id",element:Object(pe.jsx)(tt,{})}),Object(pe.jsx)(i.a,{path:"/cart/:id",element:Object(pe.jsx)(bt,{})}),Object(pe.jsx)(i.a,{path:"/cart",element:Object(pe.jsx)(bt,{})}),Object(pe.jsx)(i.a,{path:"/login",element:Object(pe.jsx)(pt,{})}),Object(pe.jsx)(i.a,{path:"/register",element:Object(pe.jsx)(ht,{})}),Object(pe.jsx)(i.a,{path:"/profile",element:Object(pe.jsx)(Ot,{})}),Object(pe.jsx)(i.a,{path:"/shipping",element:Object(pe.jsx)(gt,{})}),Object(pe.jsx)(i.a,{path:"/payment",element:Object(pe.jsx)(yt,{})}),Object(pe.jsx)(i.a,{path:"/placeorder",element:Object(pe.jsx)(vt,{})}),Object(pe.jsx)(i.a,{path:"/orders/:id",element:Object(pe.jsx)(Et,{})}),Object(pe.jsx)(i.a,{path:"/admin/userlist",element:Object(pe.jsx)(Ct,{})}),Object(pe.jsx)(i.a,{path:"/admin/user/:id/edit",element:Object(pe.jsx)(It,{})}),Object(pe.jsx)(i.a,{path:"/admin/productlist",element:Object(pe.jsx)(nt,{})}),Object(pe.jsx)(i.a,{path:"/admin/product/:id/edit",element:Object(pe.jsx)(ot,{})}),Object(pe.jsx)(i.a,{path:"/admin/orderlist",element:Object(pe.jsx)(_t,{})})]})}),Object(pe.jsx)(xe,{})]})},At=r(50),Tt=r(88),Dt=r(87),Pt=Object(At.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{loading:!0,products:[]};case Se:return{loading:!1,products:t.payload};case Ee:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(at.a)(Object(at.a)({},e),{},{loading:!0});case we:return{loading:!1,product:t.payload};case Ie:return{loading:!1,error:t.payload};case _e:return{product:{}};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(at.a)(Object(at.a)({},e),{},{loading:!0});case Ae:return{loading:!1,success:!0};case Te:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return{loading:!0};case Pe:return{loading:!1,success:!0,product:t.payload};case Le:return{loading:!1,error:t.payload};case Ue:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return{loading:!0};case ze:return{loading:!1,success:!0,product:t.payload};case We:return{loading:!1,error:t.payload};case Fe:return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return{loading:!0};case Me:return{loading:!1,success:!0};case qe:return{loading:!1,error:t.payload};case Ne:return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:var r=t.payload,n=e.cartItems.find((function(e){return e.product===r.product}));return n?Object(at.a)(Object(at.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?r:e}))}):Object(at.a)(Object(at.a)({},e),{},{cartItems:[].concat(Object(Ke.a)(e.cartItems),[r])});case lt:return Object(at.a)(Object(at.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case dt:return Object(at.a)(Object(at.a)({},e),{},{shippingAddress:t.payload});case jt:return Object(at.a)(Object(at.a)({},e),{},{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case v:return{loading:!1,userInfo:t.payload};case S:return{loading:!1,error:t.payload};case E:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case w:return{loading:!1,userInfo:t.payload};case I:return{loading:!1,error:t.payload};case E:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(at.a)(Object(at.a)({},e),{},{loading:!0});case R:return{loading:!1,user:t.payload};case A:return{loading:!1,error:t.payload};case T:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case P:return{loading:!1,user:t.payload,success:!0};case L:return{loading:!0,error:t.payload};case U:return{user:{}};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case z:return{loading:!1,users:t.payload};case W:return{loading:!1,error:t.payload};case F:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case M:return{loading:!1,success:!0};case q:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case Q:return{loading:!1,success:!0,user:t.payload};case G:return{loading:!1,error:t.payload};case V:return{user:{}};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0};case J:return{loading:!1,success:!0,order:t.payload};case H:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(at.a)(Object(at.a)({},e),{},{loading:!0});case K:return{loading:!1,order:t.payload};case Z:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(at.a)(Object(at.a)({},e),{},{loading:!0});case ee:return{loading:!1,success:!0};case te:return{loading:!1,error:t.payload};case re:return{};default:return e}},orderMyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0};case ce:return{loading:!1,orders:t.payload};case se:return{loading:!1,error:t.payload};case ae:return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case ie:return{loading:!1,orders:t.payload};case le:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case je:return{loading:!1,success:!0};case de:return{loading:!1,error:t.payload};case ue:return{};default:return e}}}),Lt=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Ut=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,kt={cart:{cartItems:Lt,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Ut}},zt=[Tt.a],Wt=Object(At.createStore)(Pt,kt,Object(Dt.composeWithDevTools)(At.applyMiddleware.apply(void 0,zt)));Object(n.render)(Object(pe.jsx)(c.a,{store:Wt,children:Object(pe.jsx)(s.a,{children:Object(pe.jsx)(Rt,{})})}),document.querySelector("#root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.0798ff40.chunk.js.map